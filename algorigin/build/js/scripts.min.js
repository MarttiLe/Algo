jQuery(document).ready(function(e){function t(){0===document.scrollTop()?e("BODY").removeClass("is-scrolled"):e("BODY").addClass("is-scrolled")}function i(){window.innerWidth<768?scrollAnimations=sal({threshold:.01,once:!0}):scrollAnimations=sal({threshold:.05,once:!0})}if(e(document).scroll(function(){t()}),t(),i(),e("BODY").hasClass("home")){var s=e(".js-testimonials-slider");s.length&&e(".js-testimonials-slider .slider__item").length>1&&(s=new Glide(".js-testimonials-slider",{type:"slider",perView:1,bound:!0,gap:20,animationDuration:600,animationTimingFunc:"cubic-bezier(0.65,0.01,0.4,0.99)",classes:{slider:"slider--slider",carousel:"slider--carousel",swipeable:"slider--swipeable",dragging:"slider--dragging",cloneSlide:"slider__item--clone",activeNav:"is-active",activeSlide:"is-active",disabledArrow:"slider__arrow--disabled"}}).mount(),e(".js-testimonials-slider-prev").click(function(){s.go("<")}),e(".js-testimonials-slider-next").click(function(){s.go(">")}))}if(e("BODY").hasClass("home")||e("BODY").hasClass("page-template-template-algae")){var a=e(".js-product-slider");a.length&&e(".js-product-slider .slider__item").length>1&&(perView=5,breakpoints={1279:{perView:4},1023:{perView:3},767:{perView:2},479:{perView:1}},a.closest(".shop-preview").hasClass("shop-preview--mini")&&(perView=3,breakpoints={1024:{perView:2},479:{perView:1}}),a=new Glide(".js-product-slider",{type:"slider",perView:perView,bound:!0,gap:20,animationDuration:600,animationTimingFunc:"cubic-bezier(0.65,0.01,0.4,0.99)",classes:{slider:"slider--slider",carousel:"slider--carousel",swipeable:"slider--swipeable",dragging:"slider--dragging",cloneSlide:"slider__item--clone",activeNav:"is-active",activeSlide:"is-active",disabledArrow:"slider__arrow--disabled"},breakpoints:breakpoints}).mount(),e(".js-product-slider-prev").click(function(){a.go("<")}),e(".js-product-slider-next").click(function(){a.go(">")}))}var n,o,c;n=e(".js-topbar-message-slider").children(),o=n.length-1,c=0,setInterval(function(){n.removeClass("is-active"),++c>o&&(c=0),n.eq(c).addClass("is-active")},5e3);var r=e(".js-header-search");if(e(".js-searchbar-toggle").click(function(){r.toggleClass("is-active"),e("BODY").toggleClass("is-search-open"),r.hasClass("is-active")&&setTimeout(function(){e(".search-form__input").focus()},400)}),e(".js-nav-select").change(function(){var t=e(e(this),"option:selected").val();window.location.href=t}),e("BODY").hasClass("single-product")){let t=e(".cart .quantity .qty"),i=e(".js-product-add-to-cart-button");t.change(),e(".js-product-quantity-plus").click(function(e){e.preventDefault();var i=t.val();++i<100&&t.val(i),t.change()}),e(".js-product-quantity-minus").click(function(e){e.preventDefault();var i=t.val();--i>0&&t.val(i),t.change()}),t.change(function(){var t=e(this).val();t>99&&e(this).val(99),t<1&&e(this).val(1),i.attr("data-quantity",e(this).val())})}e("body").on("added_to_cart",function(t,i,s,a){d(3e3),f("add-cart",ajaxSettings.addedToCartMessageSuccess,["notification-popup--positive","notification-popup--icon-left"],3e3);var n=parseInt(a.attr("data-quantity"));n||(n=1),function(t=1){var i=e(".js-cart-amount");newCartAmount=u+parseInt(t),u=newCartAmount,i.text(newCartAmount)}(n)});var l=e(".js-notification-focus-overlay");function d(e=3e3){l.addClass("is-active"),setTimeout(function(){l.removeClass("is-active")},3e3)}var u=parseInt(e(".js-cart-amount")[0].innerHTML);function v(e){return e.preventDefault(),e.stopPropagation(),!1}e(".js-sidebar-nav").length>0&&e(".menu__item--has-children > .menu__anchor.is-ancestor").siblings(".menu__sub-menu").addClass("is-active"),e(".js-sidebar-nav .menu__anchor").click(function(t){e(this).parent(".menu__item").hasClass("menu__item--has-children")&&(t.preventDefault(),e(this).siblings(".menu__sub-menu").toggleClass("is-active"))}),document.querySelectorAll(".header-nav .menu__item--has-children.is-top-level").forEach(function(e){e.addEventListener("wheel",v,{passive:!1})}),document.querySelectorAll(".menu__mega").forEach(function(e){e.addEventListener("wheel",v,{passive:!1})});var m=e(".header-nav .menu__mega .js-megamenu-img");if(e(".header-nav .menu__mega .menu__anchor").on("mouseenter",function(){var t=e(this).data("hover-image");t&&(m.attr("src",t),m.addClass("is-active"))}),e(".header-nav .menu__mega .menu__anchor").on("mouseleave",function(){m.removeClass("is-active")}),e(".js-region-settings-toggle").click(function(){e(".js-region-settings").toggleClass("is-active")}),e(".header-nav .menu__item--has-children.is-top-level > .menu__anchor").click(function(t){window.innerWidth<1024&&(t.preventDefault(),e(this).siblings(".menu__mega").toggleClass("is-active"))}),e("#shipping_country_field").click(function(e){return e.preventDefault(),!1}),e("#billing_country_field").click(function(e){return e.preventDefault(),!1}),document.querySelectorAll(".js-accordion-toggle").forEach(e=>e.addEventListener("click",function(){this.classList.toggle("is-active");let e=this.dataset.accordionId;document.querySelector('.js-accordion-content[data-accordion-id="'+e+'"]').classList.toggle("is-active")})),document.querySelectorAll(".js-drawer-toggle").forEach(e=>e.addEventListener("click",function(){let e=this.dataset.drawerId;document.querySelector('.js-drawer[data-drawer-id="'+e+'"]').classList.toggle("is-active")})),document.querySelector(".js-floating-drawer-toggle")){function p(){window.scrollY>=560?document.querySelector(".js-floating-drawer-toggle").classList.add("is-visible"):document.querySelector(".js-floating-drawer-toggle").classList.remove("is-visible")}window.addEventListener("scroll",function(){p()}),p()}var g=!1;if(document.querySelectorAll(".js-dropdown-toggle").forEach(e=>e.addEventListener("click",function(){this.classList.toggle("is-active");let e=this.dataset.dropdownId;document.querySelector('.js-dropdown-content[data-dropdown-id="'+e+'"]').classList.toggle("is-active"),g=!!this.classList.contains("is-active")})),document.addEventListener("click",function(){g&&(document.querySelectorAll(".js-dropdown-toggle").forEach(e=>e.classList.remove("is-active")),document.querySelectorAll(".js-dropdown-content").forEach(e=>e.classList.remove("is-active")),g=!1)}),document.querySelectorAll(".js-dropdown-content *").forEach(e=>e.stopPropagation()),document.body.classList.contains("page-template-template-blog")||document.body.classList.contains("category")){let t=1,s=parseInt(ajaxSettings.postsPerPage);document.querySelector(".js-loadmore-posts").addEventListener("click",function(){t++;!function(t,s,a,n){data={action:a,args:n},e.ajax({type:"POST",dataType:"json",url:ajaxSettings.adminUrl,data:data,success:function(t){i(),!0===t.success?(s.innerHTML+=t.output,1==t.final?e(".blog__actions").remove():e(".js-loadmore-button").removeClass("is-loading")):e(".js-loadmore-button").removeClass("is-loading"),i()},error:function(e,t,i){console.log(e+" :: "+t+" :: "+i)}})}(0,document.querySelector(".js-loadmore-posts-container"),"theme_ajax_blog_loadmore",{post_type:"post",category:this.dataset.category,status:"publish",posts_per_page:s,paged:t,order:"DESC"})})}function f(e=0,t=!1,i=[],s=3e3){t&&(notification=document.querySelector('.js-notification-popup[data-notification-id="'+e+'"]'),text=notification.querySelector(".notification-popup__text"),notification.classList.remove("notification-popup--positive","notification-popup--negative","is-active"),i.push("is-active"),notification.classList.add(...i),text.innerHTML=t,setTimeout(function(){notification.classList.remove("is-active")},s))}function t(){window.scrollY>=80?document.querySelector("BODY").classList.add("is-scrolled"):document.querySelector("BODY").classList.remove("is-scrolled")}document.querySelector(".js-mobile-menu-toggle").addEventListener("click",function(){document.querySelector("BODY").classList.toggle("is-mobile-menu-open")}),document.querySelectorAll(".header-nav__anchor").forEach(e=>e.addEventListener("click",function(){document.querySelector("BODY").classList.remove("is-mobile-menu-open")})),e(".modal__inner").click(function(e){e.stopPropagation()}),e(".js-modal-toggle").click(function(t){var i=e(this).data("modalId");e("#"+i).fadeIn(250,function(){e("#"+i).addClass("is-open")}),e("BODY").addClass("has-no-scroll-y")}),e(".js-modal").on("click",function(t){e(this).fadeOut(250,function(){e(this).removeClass("is-open")}),e("BODY").removeClass("has-no-scroll-y"),(videoPlayer=e(this).find(".video-player__iframe"))&&(console.log(videoPlayer),videoPlayer[0].src=videoPlayer[0].src)}),window.addEventListener("scroll",function(){t()}),t();var h,_,w,y,j=e(".js-sticky-nav .sticky-nav__anchor"),b=e(".scroll-anchor");function L(){var t=e(window).scrollTop(),i=e(".sticky-nav-wrap").offset().top,s=i+e(".sticky-nav-wrap").height();t>i&&t<s&&b.each(function(){var i=e(this),s=i.offset().top;if(!(t+1>=s))return!1;var a="#"+i.attr("id");j.each(function(){e(this).attr("href")===a&&(e(this).hasClass("is-active")||(j.removeClass("is-active"),e(this).addClass("is-active")))})})}e(".js-sticky-nav").length&&(L(),e(window).scroll((h=L,_=5,function(){var e=(new Date).getTime();w&&e<w+_?(clearTimeout(y),y=setTimeout(function(){w=e,h.call()},_-(e-w))):(w=e,h.call())}))),document.querySelectorAll(".js-nav-tab").forEach(e=>e.addEventListener("click",function(){let e=this.dataset.tabsId,t=this.dataset.tabsContentId;document.querySelectorAll('.js-nav-tab[data-tabs-id="'+e+'"]').forEach(e=>e.classList.remove("is-active")),this.classList.add("is-active"),document.querySelectorAll('.js-nav-tab-content[data-tabs-id="'+e+'"]').forEach(e=>e.classList.remove("is-active")),document.querySelector('.js-nav-tab-content[data-tabs-id="'+e+'"][data-tabs-content-id="'+t+'"]').classList.add("is-active")}))});